<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Penaltis Mundial 2022 - XFootballHub</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap');

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0; padding: 0;
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #00695c, #26a69a);
    color: #f0f0f0;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  header {
    padding: 20px 15px;
    text-align: center;
    background: #004d40;
    box-shadow: 0 3px 10px rgba(0,0,0,0.5);
  }
  header h1 {
    margin: 0; font-size: 2.5rem;
    letter-spacing: 3px;
  }
  header p {
    margin: 5px 0 0;
    font-weight: 600;
    font-size: 1.1rem;
    color: #a7ffebcc;
  }

  main {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 10px 15px 30px;
    max-width: 900px;
    margin: 0 auto;
    width: 100%;
  }

  /* Equipo selecci√≥n */
  #team-selection {
    background: rgba(255,255,255,0.12);
    border-radius: 15px;
    padding: 15px;
    margin-bottom: 25px;
    overflow-y: auto;
    max-height: 220px;
  }
  #team-selection h2 {
    text-align: center;
    margin: 0 0 10px;
    font-size: 1.8rem;
  }
  #teams-list {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
  }
  .team-card {
    cursor: pointer;
    background: rgba(255,255,255,0.15);
    border-radius: 10px;
    padding: 6px 10px;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: background-color 0.3s ease;
    width: 140px;
  }
  .team-card:hover, .team-card.selected {
    background: #1de9b6;
    color: #004d40;
  }
  .team-flag {
    width: 30px; height: 20px;
    border: 1px solid #004d40;
    border-radius: 3px;
    background-size: cover;
    background-position: center;
    flex-shrink: 0;
  }
  .team-name {
    font-weight: 600;
    font-size: 1rem;
  }

  /* Game container */
  #game-container {
    display: none;
    flex-direction: column;
    align-items: center;
    gap: 25px;
  }

  /* Stage text */
  #stage-title {
    font-size: 1.8rem;
    font-weight: 700;
    margin-bottom: 10px;
    text-align: center;
  }

  /* Match info */
  #match-info {
    font-size: 1.1rem;
    font-weight: 600;
    text-align: center;
    min-height: 24px;
  }

  /* Field & game area */
  #field {
    position: relative;
    width: 320px;
    height: 440px;
    background: linear-gradient(to bottom, #88cc44 0%, #529322 100%);
    border-radius: 12px;
    box-shadow: inset 0 0 20px #2a5c12;
    user-select: none;
    overflow: hidden;
  }

  /* Goal */
  #goal {
    position: absolute;
    bottom: 10px;
    left: 50%;
    width: 260px;
    height: 120px;
    margin-left: -130px;
    background: #eee;
    border: 6px solid #444;
    border-radius: 0 0 50% 50% / 0 0 100% 100%;
    box-shadow:
      inset 0 5px 10px #bbb,
      0 0 20px rgba(0,0,0,0.2);
  }

  /* Goal divisions (9 zones) */
  .goal-zone {
    position: absolute;
    border: 1.5px solid #9998;
    cursor: pointer;
    transition: background-color 0.25s ease;
  }
  .goal-zone:hover:not(.disabled) {
    background-color: rgba(29, 233, 182, 0.3);
  }
  /* 3 rows */
  .row-1 { top: 6px; height: 38%; }
  .row-2 { top: 44%; height: 38%; }
  .row-3 { bottom: 6px; height: 38%; }
  /* 3 cols */
  .col-1 { left: 4%; width: 30%; }
  .col-2 { left: 35%; width: 30%; }
  .col-3 { right: 4%; width: 30%; }

  /* Player & keeper */
  #player, #keeper {
    position: absolute;
    width: 90px;
    height: 140px;
    bottom: 140px;
    user-select: none;
  }
  #player {
    left: 40px;
    transition: left 0.35s ease, bottom 0.25s ease;
  }
  #keeper {
    right: 40px;
    transition: right 0.35s ease;
  }

  /* Simple human shape for player and keeper */
  .human-body {
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, #004d40 0%, #00796b 100%);
    border-radius: 50% / 60% 60% 40% 40%;
    position: relative;
    box-shadow: inset 0 0 15px #00291b;
  }
  .human-head {
    position: absolute;
    top: 10px;
    left: 50%;
    width: 55px;
    height: 55px;
    background: #ffe0bd;
    border-radius: 50%;
    border: 2px solid #cc9966;
    transform: translateX(-50%);
    box-shadow: 0 3px 6px rgba(0,0,0,0.2);
  }
  /* Shirt colors by data */
  #player[data-team="Qatar"] .human-body { background: linear-gradient(to bottom, #7a0b0b, #ad1f1f); }
  #player[data-team="Ecuador"] .human-body { background: linear-gradient(to bottom, #ffd300, #fabf00); }
  #player[data-team="Senegal"] .human-body { background: linear-gradient(to bottom, #00853f, #00622e); }
  #player[data-team="Netherlands"] .human-body { background: linear-gradient(to bottom, #e4601f, #b84100); }
  #player[data-team="England"] .human-body { background: linear-gradient(to bottom, #d6d6d6, #a0a0a0); }
  #player[data-team="Iran"] .human-body { background: linear-gradient(to bottom, #d1272a, #9b1f22); }
  #player[data-team="USA"] .human-body { background: linear-gradient(to bottom, #224a7c, #122c4a); }
  #player[data-team="Wales"] .human-body { background: linear-gradient(to bottom, #cc0000, #990000); }
  #player[data-team="Argentina"] .human-body { background: linear-gradient(to bottom, #74b0da, #3c84c9); }
  #player[data-team="Saudi Arabia"] .human-body { background: linear-gradient(to bottom, #0d783c, #064c1f); }
  #player[data-team="Mexico"] .human-body { background: linear-gradient(to bottom, #00843d, #005a23); }
  #player[data-team="Poland"] .human-body { background: linear-gradient(to bottom, #d72a34, #9e1a20); }
  #player[data-team="France"] .human-body { background: linear-gradient(to bottom, #233e8b, #192c66); }
  #player[data-team="Australia"] .human-body { background: linear-gradient(to bottom, #004a28, #00371b); }
  #player[data-team="Denmark"] .human-body { background: linear-gradient(to bottom, #c60c30, #8a0620); }
  #player[data-team="Tunisia"] .human-body { background: linear-gradient(to bottom, #ce222a, #9a1a21); }
  #player[data-team="Spain"] .human-body { background: linear-gradient(to bottom, #bf001f, #7a000f); }
  #player[data-team="Costa Rica"] .human-body { background: linear-gradient(to bottom, #be1622, #840e14); }
  #player[data-team="Germany"] .human-body { background: linear-gradient(to bottom, #000000, #222222); }
  #player[data-team="Japan"] .human-body { background: linear-gradient(to bottom, #c81a2f, #920016); }
  #player[data-team="Belgium"] .human-body { background: linear-gradient(to bottom, #b01e1e, #770000); }
  #player[data-team="Canada"] .human-body { background: linear-gradient(to bottom, #d93b3a, #a42828); }
  #player[data-team="Morocco"] .human-body { background: linear-gradient(to bottom, #a30b0b, #660606); }
  #player[data-team="Croatia"] .human-body { background: linear-gradient(to bottom, #cc2a2a, #870909); }
  #player[data-team="Brazil"] .human-body { background: linear-gradient(to bottom, #009b3a, #005927); }
  #player[data-team="Serbia"] .human-body { background: linear-gradient(to bottom, #cb2229, #8b0d13); }
  #player[data-team="Switzerland"] .human-body { background: linear-gradient(to bottom, #bf0000, #7a0000); }
  #player[data-team="Cameroon"] .human-body { background: linear-gradient(to bottom, #007a33, #004d20); }
  #player[data-team="Portugal"] .human-body { background: linear-gradient(to bottom, #a41e1e, #6d0d0d); }
  #player[data-team="Ghana"] .human-body { background: linear-gradient(to bottom, #d7130b, #930900); }
  #player[data-team="Uruguay"] .human-body { background: linear-gradient(to bottom, #4a83c7, #0f49b5); }
  #player[data-team="South Korea"] .human-body { background: linear-gradient(to bottom, #bb152a, #7d0c1a); }

  /* Keeper: blue shirt */
  #keeper .human-body {
    background: linear-gradient(to bottom, #0d47a1, #1565c0);
  }
  #keeper .human-head {
    background: #f2d8b3;
    border-color: #a57f5b;
  }

  /* Ball */
  #ball {
    position: absolute;
    width: 40px;
    height: 40px;
    bottom: 195px;
    left: 140px;
    background: radial-gradient(circle at center, #fff 60%, #ccc 100%);
    border-radius: 50%;
    box-shadow:
      inset 0 0 6px #888,
      0 2px 6px rgba(0,0,0,0.3);
    border: 2px solid #555;
    transition: left 0.35s ease, bottom 0.35s ease;
    pointer-events: none;
  }

  /* Animation classes */
  .shooting {
    animation: shoot-move 0.6s forwards;
  }
  .goal-celebrate {
    animation: goal-flash 0.7s alternate 4;
  }
  .keeper-dive-left {
    animation: keeper-dive-left 0.5s forwards;
  }
  .keeper-dive-right {
    animation: keeper-dive-right 0.5s forwards;
  }

  @keyframes shoot-move {
    0% { bottom: 195px; }
    100% { bottom: 85px; }
  }
  @keyframes goal-flash {
    0% { filter: brightness(1); }
    100% { filter: brightness(1.8); }
  }
  @keyframes keeper-dive-left {
    0% { right: 40px; }
    100% { right: 140px; transform: rotate(-25deg); }
  }
  @keyframes keeper-dive-right {
    0% { right: 40px; }
    100% { right: 140px; transform: rotate(25deg); }
  }

  /* Controls */
  #controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 10px;
  }
  button {
    padding: 10px 18px;
    border: none;
    border-radius: 10px;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    background: #1de9b6;
    color: #004d40;
    box-shadow: 0 3px 8px #004d40aa;
    transition: background-color 0.3s ease;
  }
  button:hover:not(:disabled) {
    background: #00bfa5;
  }
  button:disabled {
    background: #aaa;
    cursor: not-allowed;
  }

  /* Info panel */
  #info-panel {
    text-align: center;
    margin-top: 10px;
    font-weight: 600;
  }

  /* Responsive */
  @media (max-width: 480px) {
    #field {
      width: 100vw;
      max-width: 320px;
      height: 440px;
    }
    #player, #keeper {
      width: 70px;
      height: 110px;
    }
    #ball {
      width: 32px;
      height: 32px;
      bottom: 160px;
      left: 115px;
    }
  }

</style>
</head>
<body>

<header>
  <h1>Penaltis Mundial 2022</h1>
  <p>Selecciona tu equipo y lucha por la gloria</p>
</header>

<main>

  <section id="team-selection">
    <h2>Elige tu equipo</h2>
    <div id="teams-list" aria-label="Lista de equipos participantes" role="list"></div>
  </section>

  <section id="game-container" aria-live="polite">

    <div id="stage-title"></div>
    <div id="match-info"></div>

    <div id="field" aria-label="Campo de penaltis">

      <div id="goal" aria-label="Porter√≠a de penalti" role="region" aria-live="off">
        <!-- 9 zones -->
        <div class="goal-zone row-1 col-1" data-zone="0" aria-label="Zona superior izquierda"></div>
        <div class="goal-zone row-1 col-2" data-zone="1" aria-label="Zona superior centro"></div>
        <div class="goal-zone row-1 col-3" data-zone="2" aria-label="Zona superior derecha"></div>
        <div class="goal-zone row-2 col-1" data-zone="3" aria-label="Zona media izquierda"></div>
        <div class="goal-zone row-2 col-2" data-zone="4" aria-label="Zona media centro"></div>
        <div class="goal-zone row-2 col-3" data-zone="5" aria-label="Zona media derecha"></div>
        <div class="goal-zone row-3 col-1" data-zone="6" aria-label="Zona inferior izquierda"></div>
        <div class="goal-zone row-3 col-2" data-zone="7" aria-label="Zona inferior centro"></div>
        <div class="goal-zone row-3 col-3" data-zone="8" aria-label="Zona inferior derecha"></div>
      </div>

      <div id="player" aria-label="Jugador tirador" role="img" aria-live="off">
        <div class="human-body"></div>
        <div class="human-head"></div>
      </div>

      <div id="keeper" aria-label="Portero" role="img" aria-live="off">
        <div class="human-body"></div>
        <div class="human-head"></div>
      </div>

      <div id="ball" aria-label="Bal√≥n de f√∫tbol"></div>

    </div>

    <div id="controls" role="region" aria-label="Controles del juego">
      <button id="start-btn" disabled>Comenzar partido</button>
      <button id="next-shot-btn" disabled>Disparar penalti</button>
    </div>

    <div id="info-panel" aria-live="assertive"></div>

  </section>

</main>

<script>
// DATA EQUIPOS DEL MUNDIAL 2022
const teamsData = [
  { name: "Qatar", flag: "https://flagcdn.com/w40/qa.png", strength: 1 },
  { name: "Ecuador", flag: "https://flagcdn.com/w40/ec.png", strength: 3 },
  { name: "Senegal", flag: "https://flagcdn.com/w40/sn.png", strength: 4 },
  { name: "Netherlands", flag: "https://flagcdn.com/w40/nl.png", strength: 8 },
  { name: "England", flag: "https://flagcdn.com/w40/gb.png", strength: 8 },
  { name: "Iran", flag: "https://flagcdn.com/w40/ir.png", strength: 3 },
  { name: "USA", flag: "https://flagcdn.com/w40/us.png", strength: 5 },
  { name: "Wales", flag: "https://flagcdn.com/w40/gb-wls.png", strength: 2 },

  { name: "Argentina", flag: "https://flagcdn.com/w40/ar.png", strength: 7 },
  { name: "Saudi Arabia", flag: "https://flagcdn.com/w40/sa.png", strength: 3 },
  { name: "Mexico", flag: "https://flagcdn.com/w40/mx.png", strength: 5 },
  { name: "Poland", flag: "https://flagcdn.com/w40/pl.png", strength: 6 },
  { name: "France", flag: "https://flagcdn.com/w40/fr.png", strength: 9 },
  { name: "Australia", flag: "https://flagcdn.com/w40/au.png", strength: 3 },
  { name: "Denmark", flag: "https://flagcdn.com/w40/dk.png", strength: 7 },
  { name: "Tunisia", flag: "https://flagcdn.com/w40/tn.png", strength: 2 },

  { name: "Spain", flag: "https://flagcdn.com/w40/es.png", strength: 8 },
  { name: "Costa Rica", flag: "https://flagcdn.com/w40/cr.png", strength: 1 },
  { name: "Germany", flag: "https://flagcdn.com/w40/de.png", strength: 8 },
  { name: "Japan", flag: "https://flagcdn.com/w40/jp.png", strength: 5 },
  { name: "Belgium", flag: "https://flagcdn.com/w40/be.png", strength: 8 },
  { name: "Canada", flag: "https://flagcdn.com/w40/ca.png", strength: 2 },
  { name: "Morocco", flag: "https://flagcdn.com/w40/ma.png", strength: 4 },
  { name: "Croatia", flag: "https://flagcdn.com/w40/hr.png", strength: 7 },

  { name: "Brazil", flag: "https://flagcdn.com/w40/br.png", strength: 9 },
  { name: "Serbia", flag: "https://flagcdn.com/w40/rs.png", strength: 4 },
  { name: "Switzerland", flag: "https://flagcdn.com/w40/ch.png", strength: 6 },
  { name: "Cameroon", flag: "https://flagcdn.com/w40/cm.png", strength: 3 },
  { name: "Portugal", flag: "https://flagcdn.com/w40/pt.png", strength: 8 },
  { name: "Ghana", flag: "https://flagcdn.com/w40/gh.png", strength: 3 },
  { name: "Uruguay", flag: "https://flagcdn.com/w40/uy.png", strength: 6 },
  { name: "South Korea", flag: "https://flagcdn.com/w40/kr.png", strength: 4 },
];

// GRUPOS OFICIALES MUNDIAL 2022
const groups = {
  A: ["Qatar", "Ecuador", "Senegal", "Netherlands"],
  B: ["England", "Iran", "USA", "Wales"],
  C: ["Argentina", "Saudi Arabia", "Mexico", "Poland"],
  D: ["France", "Australia", "Denmark", "Tunisia"],
  E: ["Spain", "Costa Rica", "Germany", "Japan"],
  F: ["Belgium", "Canada", "Morocco", "Croatia"],
  G: ["Brazil", "Serbia", "Switzerland", "Cameroon"],
  H: ["Portugal", "Ghana", "Uruguay", "South Korea"],
};

// UTILIDADES
function getTeamByName(name) {
  return teamsData.find(t => t.name === name);
}

function shuffleArray(arr) {
  // Durstenfeld shuffle
  for(let i=arr.length-1; i>0; i--) {
    const j = Math.floor(Math.random()*(i+1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function sleep(ms) {
  return new Promise(r => setTimeout(r, ms));
}

// VARIABLES DE JUEGO
let playerTeam = null;  // equipo jugador
let currentStage = 'group'; // group, octavos, cuartos, semis, final
let currentMatchIndex = 0;
let tournamentData = null;
let userScore = 0;
let compScore = 0;
let shotsTaken = 0;
const totalShots = 5;
let currentMatch = null;
let selectedZone = null;
let isShooting = false;

// ELEMENTOS DOM
const teamsListEl = document.getElementById('teams-list');
const teamSelectionEl = document.getElementById('team-selection');
const gameContainerEl = document.getElementById('game-container');
const stageTitleEl = document.getElementById('stage-title');
const matchInfoEl = document.getElementById('match-info');
const playerEl = document.getElementById('player');
const keeperEl = document.getElementById('keeper');
const ballEl = document.getElementById('ball');
const goalZones = Array.from(document.querySelectorAll('.goal-zone'));
const startBtn = document.getElementById('start-btn');
const nextShotBtn = document.getElementById('next-shot-btn');
const infoPanel = document.getElementById('info-panel');


// Sonidos base
const audioShot = new Audio('https://actions.google.com/sounds/v1/sports/whistle.ogg');
const audioGoal = new Audio('https://actions.google.com/sounds/v1/sports/soccer_goal.ogg');
const audioSave = new Audio('https://actions.google.com/sounds/v1/sports/soccer_save.ogg');

// Mostrar lista de equipos para selecci√≥n
function renderTeams() {
  teamsListEl.innerHTML = '';
  teamsData.forEach(team => {
    const div = document.createElement('div');
    div.classList.add('team-card');
    div.setAttribute('role', 'listitem');
    div.setAttribute('tabindex', '0');
    div.setAttribute('aria-label', `Equipo ${team.name}`);
    div.innerHTML = `<img src="${team.flag}" alt="Bandera de ${team.name}"><span>${team.name}</span>`;
    div.addEventListener('click', () => selectTeam(team));
    div.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        selectTeam(team);
      }
    });
    teamsListEl.appendChild(div);
  });
}

// Seleccionar equipo del jugador
function selectTeam(team) {
  playerTeam = team;
  teamSelectionEl.style.display = 'none';
  gameContainerEl.style.display = 'block';
  startBtn.disabled = false;
  infoPanel.textContent = `Has seleccionado: ${team.name}. ¬°Buena suerte!`;
}

// Crear fixture con partidos para la simulaci√≥n
function createTournamentFixture() {
  // Usaremos solo fase de grupos para simplicidad,
  // luego octavos, cuartos, semis y final con datos simplificados
  // Estructura: {stage, teams: [team1, team2], userTeamSide: 'user'|'comp'}
  const fixtures = [];

  // Fase grupos (solo partidos que involucran equipo jugador)
  for (const groupKey in groups) {
    const groupTeams = groups[groupKey];
    if (groupTeams.includes(playerTeam.name)) {
      for (let i = 0; i < groupTeams.length; i++) {
        for (let j = i + 1; j < groupTeams.length; j++) {
          fixtures.push({
            stage: 'group',
            teams: [getTeamByName(groupTeams[i]), getTeamByName(groupTeams[j])],
          });
        }
      }
    }
  }

  // Para simplicidad, creamos octavos, cuartos, semis y final con random para rivales
  // Real logic would be more complex but this suffices for demo
  // Rondas knockout con 8 equipos random seleccionados (mock)
  const knockoutStages = ['octavos', 'cuartos', 'semis', 'final'];
  let knockoutTeams = teamsData.slice(); // copia

  knockoutStages.forEach(stage => {
    shuffleArray(knockoutTeams);
    for (let i = 0; i < knockoutTeams.length; i += 2) {
      if (i + 1 < knockoutTeams.length) {
        fixtures.push({
          stage,
          teams: [knockoutTeams[i], knockoutTeams[i+1]],
        });
      }
    }
    // Reduce teams for next stage
    knockoutTeams = knockoutTeams.slice(0, knockoutTeams.length / 2);
  });

  return fixtures;
}

// Iniciar partido
function startMatch() {
  shotsTaken = 0;
  userScore = 0;
  compScore = 0;
  currentMatch = tournamentData[currentMatchIndex];
  stageTitleEl.textContent = `Etapa: ${currentMatch.stage.toUpperCase()}`;
  matchInfoEl.textContent = `${currentMatch.teams[0].name} vs ${currentMatch.teams[1].name}`;
  startBtn.disabled = true;
  nextShotBtn.disabled = false;
  infoPanel.textContent = '¬°Tira el penalti!';
  resetPositions();
}

// Reiniciar posiciones y estados visuales
function resetPositions() {
  selectedZone = null;
  isShooting = false;
  ballEl.style.left = '140px';
  ballEl.style.bottom = '195px';
  ballEl.className = '';
  keeperEl.style.right = '40px';
  keeperEl.style.transform = 'rotate(0deg)';
  playerEl.style.left = '80px';
  goalZones.forEach(zone => zone.classList.remove('selected'));
}

// Seleccionar zona del gol para disparar
goalZones.forEach(zone => {
  zone.addEventListener('click', () => {
    if (isShooting || nextShotBtn.disabled) return;
    goalZones.forEach(z => z.classList.remove('selected'));
    zone.classList.add('selected');
    selectedZone = parseInt(zone.dataset.zone);
  });
});

// Simular disparo y resultado
async function shootPenalty() {
  if (isShooting || selectedZone === null) {
    infoPanel.textContent = 'Selecciona una zona para tirar.';
    return;
  }
  isShooting = true;
  nextShotBtn.disabled = true;

  audioShot.play();

  // Movimiento bal√≥n y jugador
  ballEl.classList.add('shooting');
  playerEl.style.left = '120px';

  // Guardameta elige lado para lanzarse aleatoriamente (0-8)
  const keeperDive = Math.floor(Math.random() * 9);

  // Esperar animaci√≥n
  await sleep(600);

  // Evaluar resultado
  let result = '';
  if (keeperDive === selectedZone) {
    // Save
    audioSave.play();
    result = 'Parada del portero!';
    keeperEl.classList.add(selectedZone < 4 ? 'keeper-dive-left' : 'keeper-dive-right');
  } else {
    // Goal
    audioGoal.play();
    result = '¬°Gol!';
    ballEl.classList.add('goal-celebrate');
    userScore++;
  }

  shotsTaken++;
  infoPanel.textContent = `${result} Marcador: ${userScore} - ${compScore}`;

  await sleep(1000);

  // Reset posiciones
  resetPositions();

  if (shotsTaken >= totalShots) {
    // Fin partido
    nextShotBtn.disabled = true;
    let finalResult = '';
    if (userScore > compScore) {
      finalResult = '¬°Has ganado el partido!';
    } else if (userScore < compScore) {
      finalResult = 'Has perdido el partido.';
    } else {
      finalResult = 'Empate, ¬°vaya tensi√≥n!';
    }
    infoPanel.textContent = `${finalResult} Marcador final: ${userScore} - ${compScore}`;
    startBtn.disabled = false;
    currentMatchIndex++;
  } else {
    nextShotBtn.disabled = false;
    infoPanel.textContent = `¬°Tira el penalti! Intento ${shotsTaken + 1} de ${totalShots}`;
  }

  isShooting = false;
}

// Inicializar app
function init() {
  renderTeams();
  gameContainerEl.style.display = 'none';
  startBtn.addEventListener('click', () => {
    if (!playerTeam) return;
    tournamentData = createTournamentFixture();
    currentMatchIndex = 0;
    currentStage = 'group';
    startMatch();
  });
  nextShotBtn.addEventListener('click', shootPenalty);
}

init();

</script>

</body>
</html>
